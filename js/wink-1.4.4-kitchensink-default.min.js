if(typeof define==="undefined"){define=function(){if(typeof wink=="undefined")wink={};var c=arguments,a=c.length;return(a==1?c[0]:a==2?c[1]:c[2])(wink)};define.amd={vendor:"winktoolkit.org"}}define(function(){if(typeof wink=="undefined")wink={};return wink});
define(["../../_kernel/js/kernel"],function(c){c.version="1.4.4";c.api={};c.mm={};c.net={};c.plugins={};c.ui={form:{},layout:{},xy:{},xyz:{}};c.ux={};var a=Array.prototype.slice,d=window;c.byId=function(e){return c.isString(e)?document.getElementById(e):e};c.query=function(e,f){return new b(e,f)};var b=function(){var e=function(h,p){c.isUndefined(e.prototype.initialized)&&this.init();var l;try{l=a.call((p||document).querySelectorAll(h))}catch(m){l=[]}for(var k=this.length=l.length,i=0;i<k;i++)this[i]=
l[i];this.selector=h;return this},f=e.prototype={init:function(){f.each(["pop","push","reverse","shift","sort","splice","unshift","slice","indexOf","lastIndexOf","forEach"],function(h,p){f[p]=[][p]});c.query.extend(c,["getPosition","getTopPosition","getLeftPosition"],true);c.query.extend(c.fx,["getTransformPosition","hasClass"],true);c.query.extend(c.fx,["translate","rotate","scale","addClass","removeClass","apply","applyTransition","applyTransformTransition","onTransitionEnd"],false);c.query.extend(c.ux.gesture,
["listenTo","unlistenTo"],false);f.each(["start","move","end"],function(h,p){f[p]=function(){var l=this.size();if(l!=0){var m,k=this.toArray(),i=this.splice.call(arguments,0),r=c.ux.touch;for(m=0;m<l;m++)r.addListener.apply(r,[k[m],p].concat(i))}}});f.initialized=true},extend:function(h,p,l,m){var k=m||f;m={};for(var i=p.length,r=0;r<i;r++){var o=p[r],n=h?h[o]:null;if(c.isFunction(n))m[o]={c:h,f:n,r:l}}f.each(m,function(q,s){var t=s.f,u=s.c,x=s.r;k[q]=function(){var v=this.size();if(v!=0){var y,D=
this.toArray(),z=[],B=this.splice.call(arguments,0);for(y=0;y<v;y++)z.push(t.apply(u,[D[y]].concat(B)));if(!x)return this;if(z.length==1)return z[0];return z}}})},size:function(){return this.length},toArray:function(){return a.call(this,0)},each:function(h,p){for(var l in h){var m=h[l];p.call(m,l,m)}}};return e}();c.query.extend=b.prototype.extend;var g="en_EN";c.setLocale=function(e){g=e};c.translate=function(e,f){var h=e,p=window.i18n||{};if(c.isSet(f)&&c.isSet(f.i18n))p=f.i18n;var l=p[g];if(c.isUndefined(l))l=
p;p=l[e];c.isUndefined(p)||(h=p);return h};c.isUndefined=function(e){return e===undefined};c.isNull=function(e){return e===null};c.isSet=function(e){return!c.isUndefined(e)&&!c.isNull(e)};c.isCallback=function(e){return!!(e&&e.method||c.isFunction(e))};c.isString=function(e){return typeof e=="string"||e instanceof String};c.isInteger=function(e){return parseInt(e)===e};c.isNumber=function(e){return typeof e=="number"||e instanceof Number};c.isArray=function(e){return typeof e=="array"||e instanceof
Array};c.isBoolean=function(e){return typeof e=="boolean"||e instanceof Boolean};c.isFunction=function(e){return Object.prototype.toString.call(e)==="[object Function]"};c.trim=function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")};c.bind=function(e,f){var h=a.call(arguments,2);return function(){var p=h.concat(a.call(arguments,0));return e.apply(f,p)}};c.call=function(e,f){if(c.isFunction(e))return e.apply(d,c.isArray(f)?f:[f]);var h=d,p=e.method,l=[];if(c.isSet(e.context))h=e.context;if(arguments.length==
2)l=[f];if(c.isSet(e.arguments)){var m=e.arguments;c.isArray(m)||(m=[e.arguments]);l=l.concat(m)}return h[p].apply(h,l)};c.connect=function(e,f,h){var p=c.isFunction(h);if(!p&&!c.isSet(h.context))h.context=d;var l=e[f];if(c.isNull(l)||c.isUndefined(l.cbs)){var m=function(){var r=m.target,o=[].splice.call(arguments,0);r=r&&r.apply(e,o);var n,q=m.cbs.slice(0),s=q.length;for(n=0;n<s;n++){var t=q[n];c.isFunction(t)?c.call(t,o):c.call({context:t.context,method:t.method,arguments:o.concat(t.arguments)})}return r};
m.target=l;m.cbs=[];l=e[f]=m}l=l.cbs;var k=l.length;for(f=0;f<k;f++){var i=l[f];if(p&&h==i||!p&&i.context==h.context&&i.method==h.method)return}l.push(h)};c.disconnect=function(e,f,h){var p=c.isFunction(h);if(!p&&!c.isSet(h.context))h.context=d;e=e[f];if(!c.isUndefined(e.cbs)){f=e.cbs;var l=f.length;for(e=0;e<l;e++){var m=f[e];if(p&&h==m||!p&&m.context==h.context&&m.method==h.method){f.splice(e,1);break}}}};c.setTimeout=function(e,f,h){var p=a.call(arguments,3);return setTimeout(function(){e[f].apply(e,
p)},h)};c.setInterval=function(e,f,h){var p=a.call(arguments,3);return setInterval(function(){e[f].apply(e,p)},h)};c.getPosition=function(e,f,h){var p={x:0,y:0};for(e=e;e&&e!=f;){p.x+=e.offsetLeft;p.y+=e.offsetTop;if(h){p.x+=c.fx.getTransformPosition(e).x;p.y+=c.fx.getTransformPosition(e).y}e=e.offsetParent}return p};c.getTopPosition=function(e,f,h){return c.getPosition(e,f,h).y};c.getLeftPosition=function(e,f,h){return c.getPosition(e,f,h).x};var j=100;c.getUId=function(){return j+=1};if(c.isUndefined(d._))_=
c.bind(c.translate,c);if(c.isUndefined(d.$))$=function(){return c.query.apply(c,arguments)};if(c.isUndefined(d.$$))$$=c.bind(c.query,c);return c});define(["../../../_amd/core"],function(){wink.error={logLevel:0,log:function(c){if(this.logLevel==1)typeof console!="undefined"?console.log(c):alert(c)}};wink.log=wink.bind(wink.error.log,wink.error);return wink.error});
define(["../../../_amd/core"],function(){var c=window.JSON;wink.json={parse:function(a){if(wink.has("json-parse"))return c.parse(a);else{var d=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;a=String(a);d.lastIndex=0;if(d.test(a))a=a.replace(d,function(g){return"\\u"+("0000"+g.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))var b=eval("("+a+")");return b}},concat:function(a,d){for(var b in d)a[b]=d[b];return a}};wink.parseJSON=wink.bind(wink.json.parse,wink.json);wink.mixin=wink.bind(wink.json.concat,wink.json);return wink.json});
define(["../../../_amd/core"],function(){function c(g,j){if(wink.isCallback(j)){var e=[g.toLowerCase(),j];b.push(e)}}function a(g,j){var e=g.toLowerCase(),f=wink.isFunction(j),h,p=b.length;for(h=0;h<p;h++){var l=b[h];if(l[0]==e&&(f&&j==l[1]||!f&&l[1].method==j.method&&l[1].context==j.context)){b.splice(h,1);break}}}function d(g,j){var e=g.toLowerCase(),f,h=b.length;for(f=0;f<h;f++){var p=b[f];p&&p[0]==e&&wink.isSet(p[1])&&wink.call(p[1],j)}}var b=[];wink.topics={_getTopics:function(){return b}};wink.topics.subscribe=
c;wink.topics.unsubscribe=a;wink.topics.publish=d;wink.publish=d;wink.subscribe=c;wink.unsubscribe=a;return wink.topics});
define(["../../../_amd/core"],function(){var c,a,d,b,g,j,e,f,h,p,l,m,k,i,r,o,n,q,s,t,u,x,v,y,D,z;c=a=d=b=g=j=e=f=u=x=v=y=false;h=p=l=m=k=i=r=o=n=0;var B=wink.isSet;a=function(A,E){return RegExp(A).test(E)};var C=function(A,E,w){var F={v:0,r:0,u:0};A=RegExp(E).exec(A);if(B(A)&&A.length>1){A=A[2];E=RegExp("[^\\"+w+"0-9]").exec(A);if(B(E))A=A.slice(0,E.index);w=A.split(w);if(w.length>0)F.v=w[0];if(w.length>1)F.r=w[1];if(w.length>2)F.u=w[2];if(w.length>3)F.u+="."+w[3]}return F};c=navigator||{};q=c.userAgent;
s=c.platform;t=c.appVersion;c=a(" AppleWebKit/",q);x=a(/bada/gi,q);v=a(/Opera/gi,q);D=a(/Tizen/gi,q);z=a(/IEMobile/gi,q);if(B(s)){if(a(/iphone/i,s))d=true;if(a(/ipod/i,s))b=true;if(a(/ipad/i,s))g=true;if(a(/blackberry/i,s))u=true;if(a(/BB10/i,s)){u=true;d=b=g=false}}if(B(t)){if(a(/android/i,t))j=true;if(a(/safari/i,t)){e=true;s=C(t,"( Version/)([^ ]+)",".");m=s.v;k=s.r;i=s.u}if(a(/MSIE/i,t)){y=true;s=C(t,"( MSIE )([^ ]+)",".");m=s.v;k=s.r}}if(!e&&!c&&!y)f=a(/mozilla/i,q);a=d||b||j||u||x||D||z||a(" Mobile/",
q);if(c){s=C(q,"( AppleWebKit/)([^ ]+)",".");h=s.v;p=s.r;l=s.u}if(a&&B(t)){r=j?["( Android )([^ ]+)","."]:["( OS )([^ ]+)","_"];if(u)r=["( BlackBerry )([^ ]+)","."];if(D)r=["( Tizen )([^ ]+)","."];C=C(t,r[0],r[1]);r=C.v;o=C.r;n=C.u}wink.ua={isWebkit:c,isMobile:a,isIPhone:d,isIPod:b,isIPad:g,isIOS:d||b||g,isAndroid:j,isBlackBerry:u,isBada:x,isOpera:v,isSafari:e,isMozilla:f,isIE:y,isTizen:D,webkitVersion:h,webkitMinorVersion:p,webkitUpdateVersion:l,browserVersion:m,browserMinorVersion:k,browserUpdateVersion:i,
osVersion:r,osMinorVersion:o,osUpdateVersion:n};return wink.ua});
define(["../../../_amd/core"],function(){function c(g,j,e){if(!wink.isBoolean(a[g])){var f=j;if(e&&b(j))f=j();a[g]=f}}var a={},d={},b=wink.isFunction;wink.has=function(g){if(b(a[g]))a[g]=a[g]();return a[g]};wink.has.prefixes=["-webkit-","-moz-","-o-","ms-","-khtml-"];wink.has.prefix=null;wink.has.inquire=c;wink.has.inquireMap=function(g,j){if(!(!g||g.length==0))for(var e in g)c(e,g[e],j)};wink.has.setProp=function(g,j){d[g]=j};wink.has.deferProp=function(g,j){d[g]=b(j)?j:function(){wink.has(j)}};
wink.has.prop=function(g){var j=d[g];if(b(j)){j();j=d[g];if(b(j))j=g}return j||g};wink.has.getFeatures=function(){return a};wink.has.getProperties=function(){return d};return wink.has});
define(["../../../_amd/core"],function(){var c=wink.has,a=c.inquireMap,d=window;a({"json-parse":function(){var b;b=false;if(d.JSON&&typeof JSON.parse=="function"){b=JSON.parse('{"w":1}');b=!!(b&&b.w)}return b},"json-stringify":function(){var b;b=false;if(d.JSON&&typeof JSON.stringify=="function"){b=JSON.stringify({w:true});b=b=='{"w":true}'}return b}});return c});
define(["../../../_amd/core"],function(){function c(i){var r=false;if(typeof p[i]==m){g(i,i);r=true}else{var o=wink.has.prefix;o=o!=null?[o]:l;var n,q=o.length;for(n=0;n<q;n++){var s,t=o[n]+i;s=t;var u=/(-)([a-z])/;for(t=t.match(u);t!=null;){s=s.replace(u,RegExp.$2.toUpperCase());t=s.match(u)}s=s;if(typeof p[s]==m){wink.has.prefix=o[n];g(i,s);r=true;break}}}return r}function a(i){return function(){c(i)}}var d=wink.has,b=d.inquireMap,g=d.setProp,j=d.deferProp,e=window,f=e.document,h=f.createElement("div"),
p=h.style,l=d.prefixes,m="string",k={a:"transform-property",b:"transition-property",c:"transition-duration",d:"transition-delay",e:"transition-timing-function",f:"border-radius",g:"text-shadow",h:"box-shadow",i:"gradient",j:"perspective",k:"transform-origin",l:"transform-style",m:"transform",n:"css-transition",o:"css-perspective",p:"css-transform",q:"perspective-origin",r:"backface-visibility",s:"tap-highlight-color",t:"user-select",bg:"background-image",tr:"transition",an:"animation",cm:"cssmatrix",
cl:"classList"};j(k.a,k.p);j(k.m,k.p);j(k.b,k.n);j(k.c,k.n);j(k.d,k.n);j(k.e,k.n);j(k.f,"css-border-radius");j(k.g,"css-text-shadow");j(k.h,"css-box-shadow");j(k.i,"css-gradient");j(k.j,k.o);j(k.k,k.o);j(k.l,k.o);j(k.q,k.o);j(k.tr,k.n);j(k.an,"css-animation");j(k.cm,"css-matrix");j(k.cl,k.cl);j(k.r,a(k.r));j(k.s,a(k.s));j(k.t,a(k.t));b({"css-transform":function(){var i=c(k.m),r=k.m;if(typeof p[r]!=m)r=wink.has.prefix+r;i?g(k.a,d.prop(k.m)):g(k.a,k.m);g(k.m,r);return i},"css-transition":function(){var i=
true;return i=(i=(i=(i=(i=i&&c(k.b))&&c(k.c))&&c(k.d))&&c(k.e))&&c(k.tr)},"css-animation":function(){return c(k.an)},"css-translate3d":function(){return d("css-matrix")},"css-border-radius":function(){return c(k.f)},"css-text-shadow":function(){return c(k.g)},"css-box-shadow":function(){return c(k.h)},"css-gradient":function(){var i=k.i,r=k.bg,o=wink.has.prefix;o=o!=null?["",o]:[""].concat(l);var n,q=o.length;for(n=0;n<q;n++){var s=o[n]+i;p.cssText=r+":"+(s+"(linear,left top,right bottom,from(#9f9),to(white));");
if(p[r]&&p[r].indexOf(i)!=-1){g(i,s);return true}}return false},"css-perspective":function(){var i=c(k.j)&&c(k.k)&&c(k.l)&&c(k.q);if(wink.ua.isIE)return i;i=i&&c(k.k+"-x")&&c(k.k+"-y")&&c(k.k+"-z");if(!i)return false;var r=wink.has.prefix||"";i=f.createElement("style");i.textContent="@media ("+r+"transform-3d){#wink_has{height:2px}}";f.getElementsByTagName("head")[0].appendChild(i);h.id="wink_has";f.documentElement.appendChild(h);r=h.offsetHeight===2;i.parentNode.removeChild(i);h.parentNode.removeChild(h);
return r},"css-matrix":function(){var i="WebKitCSSMatrix",r=e[i];g(k.cm,i);if(typeof r=="undefined"){i="MSCSSMatrix";r=e[i];g(k.cm,i);if(typeof r=="undefined")return false}i=new r("matrix(1,0,0,1,6,7)");var o=i.m41==6&&i.m42==7&&i.m41==i.e&&i.m42==i.f;if(o){r=new r("matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,6,7,8,1)");o=o&&i.m41==r.m41&&i.m42==r.m42&&r.m43==8}return o},"css-matrix-stack-inversed":function(){var i=wink.ua;if(!d("css-matrix")||!i)return false;var r=i.isIOS?parseInt(""+i.osVersion+i.osMinorVersion+
i.osUpdateVersion):500;i=i.isAndroid?parseInt(""+i.osVersion+i.osMinorVersion+i.osUpdateVersion):300;return r<421||i<300},preserve3d:function(){if(!d("css-perspective"))return false;var i=d.prop(k.l);p[i]="preserve-3d";var r=p[i]=="preserve-3d";p[i]="";return r},"css-position-fixed":function(){var i=wink.ua;if(i.isAndroid&&i.osVersion==2&&i.osMinorVersion==1||i.isBada)return false;if(i.isIOS)return i.osVersion<5?false:true;i=document.body;if(document.createElement&&i&&i.appendChild&&i.removeChild){if(!h.getBoundingClientRect)return null;
h.innerHTML="x";h.style.cssText="position:fixed;top:100px;";i.appendChild(h);var r=i.style.height,o=i.scrollTop;i.style.height="3000px";i.scrollTop=500;var n=h.getBoundingClientRect().top;i.style.height=r;r=n===100;i.removeChild(h);i.scrollTop=o;return r}return false},"css-overflow-scrolling":function(){return c("overflow-scrolling")},"css-touch-action":function(){return c("touch-action")},classlist:function(){return k.cl in h}});return d});
define(["../../../_amd/core"],function(){function c(h){return"on"+f[h]in e}var a=wink.has,d=a.inquireMap,b=a.setProp,g=a.deferProp,j=window,e=j.document.documentElement,f={ts:"touchstart",tm:"touchmove",te:"touchend",gs:"gesturestart",gc:"gesturechange",ge:"gestureend",tre:"transitionend",msd:"mspointerdown",msm:"mspointermove",msu:"mspointerup",msgs:"msgesturestart",msgc:"msgesturechange",msge:"msgestureend"};g(f.ts,f.ts);g(f.tm,f.tm);g(f.te,f.te);g(f.gs,f.gs);g(f.gc,f.gc);g(f.ge,f.ge);g(f.tre,f.tre);
d({touchstart:function(){var h=c("ts");if(h)b(f.ts,f.ts);else{h=a("mspointer")&&c("msd");b(f.ts,h?"MSPointerDown":"mousedown")}return h},touchmove:function(){var h=c("tm");if(h)b(f.tm,f.tm);else{h=a("mspointer")&&c("msm");b(f.tm,h?"MSPointerMove":"mousemove")}return h},touchend:function(){var h=c("te");if(h)b(f.te,f.te);else{h=a("mspointer")&&c("msu");b(f.te,h?"MSPointerUp":"mouseup")}return h},touch:function(){return a(f.ts)&&a(f.tm)&&a(f.te)},mspointer:function(){return j.navigator.msPointerEnabled===
true},gesturestart:function(){var h=c("gs");if(h)b(f.gs,f.gs);else{h=a("mspointer")&&c("msgs");b(f.gs,h?"MSGestureStart":"gesturestart")}return h},gesturechange:function(){var h=c("gc");if(h)b(f.gc,f.gc);else{h=a("mspointer")&&c("msgc");b(f.gc,h?"MSGestureChange":"gesturechange")}return h},gestureend:function(){var h=c("ge");if(h)b(f.ge,f.ge);else{h=a("mspointer")&&c("msge");b(f.ge,h?"MSGestureEnd":"gestureend")}return h},gesture:function(){return a(f.gs)&&a(f.gc)&&a(f.ge)},transitionend:function(){if(a("css-transition")){var h=
wink.has.prefix,p=f.tre;if(h=="-webkit-")p="webkitTransitionEnd";else if(h=="-o-")p="oTransitionEnd";b(f.tre,p);return true}return false},hashchange:function(){return"onhashchange"in j},orientationchange:function(){return"onorientationchange"in j}});return a});
define(["../../../_amd/core"],function(){var c=wink.has.inquireMap,a=window.document,d=a.documentElement;c({dynamicBase:function(){var b,g=a.createElement("head"),j=a.createElement("body");b=a.getElementsByTagName("base");var e=location.protocol+"//"+location.host,f=e+"/old/";d.appendChild(g);d.appendChild(j);if(b.length>0){b=b[0];f=b.href}else{b=a.createElement("base");b.href=f;g.appendChild(b)}var h=a.createElement("a");h.href="rlt";j.appendChild(h);var p=h.pathname;b.href=e+"/new/";e=h.pathname;
d.removeChild(g);d.removeChild(j);b.href=f;return p!==e}});return wink.has});
define(["../../../_amd/core"],function(){function c(o,n){if(wink.has("classlist"))for(var q=n.split(" "),s=q.length,t=0;t<s;t++)o.classList.add(q[t]);else{q=o.className;if((" "+q+" ").indexOf(" "+n+" ")<0)o.className=q+(q?" ":"")+n}}function a(o,n){if(wink.has("classlist"))for(var q=n.split(" "),s=q.length,t=0;t<s;t++)o.classList.remove(q[t]);else{q=wink.trim((" "+o.className+" ").replace(" "+n+" "," "));if(o.className!=q)o.className=q}}function d(o,n){return wink.has("classlist")?o.classList.contains(n):
(" "+o.className+" ").indexOf(" "+n+" ")>=0}function b(o,n){var q,s=o.style;for(q in n){var t;t=m(q).replace(/-([a-z])/gi,r);if(wink.ua.isIE&&q=="perspective"){var u=n[q];if((""+parseFloat(u)).length==(""+u).length)n[q]=u+"px"}if(wink.ua.isIE&&q=="-ms-touch-action")t=q;s[t]=n[q]}}function g(o,n,q,s,t){var u=n;if(n.indexOf(",")==-1)u=m(n);else{n=n.split(",");var x=n.length;for(u=0;u<x;u++)n[u]=m(wink.trim(n[u]));u=n.join(",")}b(o,{"transition-property":u,"transition-duration":q,"transition-delay":s,
"transition-timing-function":t})}function j(o,n,q,s){i(o,n,q,k.u,k.u,k.u,s)}function e(o,n,q){i(o,k.u,k.u,n,q,k.u,k.u)}function f(o,n){i(o,k.u,k.u,k.u,k.u,n,k.u)}function h(o){return window.getComputedStyle(o)[m("transform-property")]}function p(o,n){b(o,{"transform-property":n})}var l=wink.isSet,m=wink.has.prop,k={u:undefined};wink.fx={};wink.fx.addClass=c;wink.fx.removeClass=a;wink.fx.hasClass=d;wink.fx.apply=b;wink.fx.applyTransition=g;wink.fx.applyTransformTransition=function(o,n,q,s){g(o,"transform",
n,q,s)};wink.fx.onTransitionEnd=function(o,n,q){var s=m("transitionend"),t=function(u){q!==true&&o.removeEventListener(s,t,false);n(u)};o.addEventListener(s,t,false);return t};wink.fx.getTransformPosition=function(o){var n={x:null,y:null};o=h(o);if(wink.has("css-matrix")){if(o=="none")o="";o=new (window[wink.has.prop("cssmatrix")])(o);n.x=o.m41;n.y=o.m42}else{var q=RegExp(/matrix/i);if(q.test(o)){q=RegExp("[, ()]+","g");o=o.split(q);if(o.length>6&&o[0]=="matrix"){n.x=parseInt(o[5]);n.y=parseInt(o[6])}}}return n};
wink.fx.applyTranslate=j;wink.fx.translate=j;wink.fx.applyScale=e;wink.fx.scale=e;wink.fx.applyRotate=f;wink.fx.rotate=f;wink.fx.getTransform=h;wink.fx.setTransform=p;var i=function(o,n,q,s,t,u,x){var v=o._cssT||{};v=o._cssT={t:l(n)||l(q)?{tx:n,ty:q}:v.t,s:l(s)||l(t)?{sx:s,sy:t}:v.s,r:l(u)?{a:u}:v.r};s=v.t&&(l(v.t.tx)||l(v.t.ty));q=v.s&&(l(v.s.sx)||l(v.s.sy));n=v.r&&l(v.r.a);if(!wink.has("css-translate3d")||wink.ua.isAndroid&&(q||n))x=true;if(s){t=v.t.ty;x=x;s="";s=v.t.tx;l(s)||(s=0);t=t;l(t)||(t=
0);u="0";var y=false;y=(y=y||wink.isString(s)&&s.indexOf("%",0)!=-1)||wink.isString(t)&&t.indexOf("%",0)!=-1;if(!y){s+="px";t+="px";u+="px"}x=s=x?"translate("+s+", "+t+")":"translate3d("+s+", "+t+", "+u+")"}else x="";x=x;if(q){q=v.s.sy;s="";s=v.s.sx;l(s)||(s=1);q=q;l(q)||(q=1);q=s=wink.has("css-perspective")?"scale3d("+s+", "+q+", 1)":"scale("+s+", "+q+")"}else q="";q=q;if(n){n="";v=v.r.a;l(v)||(v=0);v=n="rotate("+v+"deg)"}else v="";v=wink.trim(x+" "+q+" "+v);p(o,v)},r=function(o,n){return(n+"").toUpperCase()};
wink.addClass=c;wink.removeClass=a;wink.hasClass=d;return wink.fx});define(["../../../_amd/core"],function(){wink.math={round:function(c,a){wink.isSet(a)||(a=0);var d=Math.pow(10,a);return Math.round(c*d)/d},modulo:function(c,a){var d=c%a;return d<0?d+a:d}};return wink.math});
define(["../../../_amd/core"],function(){var c=wink.isSet;wink.ux.Event=function(a){this.uId=wink.getUId();this.multitouch=this.srcEvent=this.target=this.timestamp=this.y=this.x=this.type=null;wink.mixin(this,a);this._validateProperties()};wink.ux.Event.prototype={preventDefault:function(){this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},dispatch:function(a,d){var b=this.srcEvent,g=b.type;if(c(d))g=d;g=g;var j="HTMLEvents";if(/blur|focus|resize|scroll/i.test(g))j=
"UIEvent";else if(/click|mouse(down|move|up)/i.test(g))j="MouseEvent";else if(/touch(start|move|end|cancel)/i.test(g))j="TouchEvent";else if(/MSPointer/i.test(g))j="MSPointerEvent";var e=document.createEvent(j),f=b.changedTouches;if(j=="HTMLEvents")e.initEvent(g,b.bubbles,b.cancelable);else if(j=="UIEvent")e.initUIEvent(g,b.bubbles,b.cancelable,window,b.detail);else if(j=="MouseEvent"){j=b.screenX;var h=b.screenY,p=b.clientX,l=b.clientY;if(b.initTouchEvent&&f&&f.length>0){f=f[0];j=f.screenX;h=f.screenY;
p=f.clientX;l=f.clientY}e.initMouseEvent(g,b.bubbles,b.cancelable,document.defaultView,b.detail,j,h,p,l,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.button,b.relatedTarget)}else if(j=="TouchEvent")e.initTouchEvent(g,b.bubbles,b.cancelable,window,b.detail,b.screenX,b.screenY,b.clientX,b.clientY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.touches,b.targetTouches,f,b.scale,b.rotation);else j=="MSPointerEvent"&&e.initPointerEvent(g,b.bubbles,b.cancelable,window,b.detail,b.screenX,b.screenY,b.clientX,b.clientY,
b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.button,b.relatedTarget,b.offsetX,b.offsetY,b.width,b.height,b.pressure,b.rotation,b.tiltX,b.tiltY,b.pointerId,b.pointerType,b.hwTimestamp,b.isPrimary);a.dispatchEvent(e)},_validateProperties:function(){return true}};return wink.ux.Event});
define(["../../../_amd/core"],function(){function c(l,m,k,i){if(wink.isUndefined(e[m])){wink.log("[touch] Cannot add listener for unknown eventType: "+m);return false}wink.isSet(i)||(i={});if(i===true)i={preventDefault:true};i={preventDefault:i.preventDefault===true?true:false,tracking:i.tracking===false?false:true,captureFlow:i.captureFlow===true?true:false,touchAction:i.touchAction};var r=null,o=p(l);if(o==null){r=new wink.ux.touch.Element({domNode:l,tracking:i.tracking});g.push(r)}else r=g[o];
if(!r.isListening(m)){if(r.eventHandler==null)r.eventHandler=function(n){var q=r,s=f[n.type],t={};t.type=s;t.srcEvent=n;t.timestamp=n.timeStamp;t.multitouch=false;if(!t.timestamp)t.timestamp=(new Date).getTime();if(wink.has("touch")&&!wink.has("mspointer"))if(s=="gesturestart"||s=="gesturechange"||s=="gestureend"){t.target=n.target;t.x=0;t.y=0}else{var u=null;if(s=="end"){if(n.changedTouches&&n.changedTouches.length>0)u=n.changedTouches[0]}else if(n.targetTouches&&n.targetTouches.length>0)u=n.targetTouches[0];
else if(n.changedTouches&&n.changedTouches.length>0)u=n.changedTouches[0];if(u!=null){u=d(u);t.x=u.x;t.y=u.y;t.target=u.target;if(n.touches&&n.touches.length>1)t.multitouch=true}}else{u=d(n);t.x=u.x;t.y=u.y;t.target=u.target}n=new wink.ux.Event(t);if(!q.isListening("start")||q.tracking==false)q.tracked=true;else if(s=="start")q.tracked=true;if(q.tracked==true){if(s=="end")q.tracked=false;q.notifyEvent(n)}};r.eventCaptures[m]=i.captureFlow;r.setTouchAction(i.touchAction);r.domNode.addEventListener(e[m],
r.eventHandler,r.eventCaptures[m])}r.addEventCallback(m,k,i.preventDefault)}function a(l,m,k){l=p(l);if(l!=null){l=g[l];l.removeEventCallback(m,k);if(!l.isListening(m)){l.touchAction&&l.setTouchAction("");l.domNode.removeEventListener(e[m],l.eventHandler,l.eventCaptures[m])}}}function d(l){var m={};m.x=l.pageX;m.y=l.pageY;m.target=l.target;return m}function b(l){if(wink.isUndefined(b.active))b.hdl={s:function(k){this.a=k},e:function(k){var i=Math.abs(k.x-this.a.x);k=Math.abs(k.y-this.a.y);if(Math.sqrt(i*
i+k*k)>20){var r=function(o){o.stopPropagation();window.removeEventListener("click",r,true)};window.addEventListener("click",r,true)}}};if(b.active!==l){var m=c;l||(m=a);m(window,"start",{context:b.hdl,method:"s"},{captureFlow:true});m(window,"end",{context:b.hdl,method:"e"},{captureFlow:true})}b.active=l}var g=[],j=wink.has.prop,e={start:j("touchstart"),move:j("touchmove"),end:j("touchend"),gesturestart:j("gesturestart"),gesturechange:j("gesturechange"),gestureend:j("gestureend")},f={};for(var h in e)f[e[h]]=
h;wink.ux.touch={};wink.ux.touch.addListener=c;wink.ux.touch.removeListener=a;wink.ux.touch.getTouchProperties=d;var p=function(l){var m,k=g.length;for(m=0;m<k;m++)if(g[m].domNode==l)return m;return null};wink.ux.touch.Element=function(l){this.uId=wink.getUId();this.domNode=null;this.tracked=this.tracking=false;this.eventHandler=null;this.eventCaptures={};this._els={};this.touchAction=false;wink.mixin(this,l);this._validateProperties()};wink.ux.touch.Element.prototype={addEventCallback:function(l,
m,k){if(!wink.isCallback(m))return false;var i=this._els[l];if(i){l=i.callbacks;k=wink.isFunction(m);var r,o=l.length;for(r=0;r<o;r++){var n=l[r];if(k&&m==n||!k&&m.context==n.context&&m.method==n.method)return false}}else{i={preventDefault:k,callbacks:[]};this._els[l]=i}i.callbacks.push(m);return true},removeEventCallback:function(l,m){if(!wink.isCallback(m))return false;var k=this._els[l];if(!k)return false;var i=k.callbacks,r=wink.isFunction(m),o,n=i.length;for(o=0;o<n;o++){var q=i[o];if(r&&m==
q||!r&&m.context==q.context&&m.method==q.method){k.callbacks.splice(o,1);break}}return true},isListening:function(l){if((l=this._els[l])&&l.callbacks.length>0)return true;return false},notifyEvent:function(l){var m=this._els[l.type];if(m){m.preventDefault==true&&l.preventDefault();m=m.callbacks;for(var k=0;k<m.length;k++)wink.call(m[k],l)}},setTouchAction:function(l){if(wink.has("css-touch-action")&&!wink.isUndefined(l)){wink.fx.apply(this.domNode,{"-ms-touch-action":l});this.touchAction=l!==""}},
_validateProperties:function(){return true}};wink.ux.touch.handleClick=b;if(wink.ua.isIE||!wink.ua.isMobile)b(true);return wink.ux.touch});
define(["../../../_amd/core"],function(){var c=wink.isSet,a=wink.isArray;wink.net.Xhr=function(d){this.uId=wink.getUId();this.request={xhrObject:null,params:d};this._create()};wink.net.Xhr.prototype={sendData:function(d,b,g,j,e,f,h){var p=this.request,l=p.xhrObject,m=encodeURIComponent;g=g.toUpperCase();var k=null;if(!(c(b)&&!a(b))){if(c(h))k=wink.setTimeout(this,"_abort",h,e);if(l){h=null;if(c(b)){var i,r=b.length;for(i=0;i<r;i++){var o=b[i],n=o.name;o=o.value;if(g=="GET")d+=i==0&&d.indexOf("?")==
-1?"?"+m(n)+"="+m(o):"&"+m(n)+"="+m(o);else if(i==0)h=m(n)+"="+m(o);else h+="&"+m(n)+"="+m(o)}}try{l.open(g,d,true);l.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=utf-8");if(c(f))if(a(f)){r=f.length;for(i=0;i<r;i++){var q=f[i];l.setRequestHeader(q.name,q.value)}}l.send(h)}catch(s){return false}l.onreadystatechange=function(){if(l.readyState==4){clearTimeout(k);var t=l.status;if(t>=200&&t<400||t==0)c(j)&&wink.call(j,p);else c(e)&&wink.call(e,p)}}}else return false;return true}},
_abort:function(d){this.request.xhrObject.onreadystatechange=null;this.request.xhrObject.abort();c(d)&&wink.call(d,this.request)},_create:function(){var d=window.XMLHttpRequest;if(d){var b;try{b=new d}catch(g){b=false}this.request.xhrObject=b}}};wink.Xhr=wink.net.Xhr;return wink.Xhr});
define(["../../../../_amd/core"],function(){var c=wink.fx.apply,a=null,d=null,b=false;wink.ui.xy.layer={visible:false,color:"#000",opacity:0.3,zIndex:998,show:function(){b||this._initDom();a.onclick=function(){var g=wink.ui.xy.layer.onclick;wink.isSet(g)&&g()};if(!this.visible){c(d,{height:document.body.scrollHeight+"px"});c(a,{display:"block"});this.visible=true}},hide:function(){if(b&&this.visible){c(a,{display:"none"});this.visible=false}},refresh:function(){b&&this.visible&&c(d,{height:document.body.scrollHeight+
"px"})},update:function(){b||this._initDom();c(a,{"z-index":this.zIndex});c(d,{backgroundColor:this.color,opacity:this.opacity})},_initDom:function(){var g=document;a=g.createElement("div");c(a,{position:"absolute",display:"none",top:0,width:"100%","z-index":this.zIndex,"tap-highlight-color":"rgba(0, 0, 0, 0)"});d=g.createElement("div");c(d,{width:"100%",backgroundColor:this.color,opacity:this.opacity});a.appendChild(d);g.body.appendChild(a);b=true}};wink.layer=wink.ui.xy.layer;return wink.layer});
define(["../../../_amd/core"],function(c){c.math.radToDeg=function(a){return a*180/Math.PI};c.math.degToRad=function(a){return a*Math.PI/180};c.math.getAngle=function(a,d){var b=Math.abs(d);if(b>a*2)b=a*2;var g=2*a*a;b=Math.acos(-((Math.pow(b,2)-(Math.pow(a,2)+Math.pow(a,2)))/g));if(isNaN(b))b=0;return b};c.math.getAngleBetweenVectors=function(a,d){var b=c.math.getScalarVector(a,d),g=c.math.getNormVector(a)*c.math.getNormVector(d);b=Math.acos(b/g);if(isNaN(b))b=0;return b};c.math.normalizeVector=
function(a){var d=[0,0,0,1],b=c.math.getNormVector(a);if(b<=0)return d;d[0]=a[0]/b;d[1]=a[1]/b;d[2]=a[2]/b;return d};c.math.getNormVector=function(a){a=a[0]*a[0]+a[1]*a[1]+a[2]*a[2];return a=Math.sqrt(a)};c.math.getNormalVector=function(a,d){var b=[0,0,0,1];b[0]=a[1]*d[2]-a[2]*d[1];b[1]=a[2]*d[0]-a[0]*d[2];b[2]=a[0]*d[1]-a[1]*d[0];return b};c.math.getScalarVector=function(a,d){var b=0;return b=a[0]*d[0]+a[1]*d[1]+a[2]*d[2]};c.math.getVector=function(a,d){var b=[0,0,0,1];b[0]=d[0]-a[0];b[1]=d[1]-a[1];
b[2]=d[2]-a[2];return b};c.math.multiplyMatrixVector=function(a,d){var b=[0,0,0,1];d[3]||(d[3]=1);b[0]=d[0]*a[0]+d[1]*a[1]+d[2]*a[2]+d[3]*a[3];b[1]=d[0]*a[4]+d[1]*a[5]+d[2]*a[6]+d[3]*a[7];b[2]=d[0]*a[8]+d[1]*a[9]+d[2]*a[10]+d[3]*a[11];b[3]=d[0]*a[12]+d[1]*a[13]+d[2]*a[14]+d[3]*a[15];return b};return c.math});
define(["../../../_amd/core"],function(c){c.ux.history={_historyTimer:null,_historyQueue:[],_historyIndex:0,_historyCheckInterval:100,_historyHandler:null,start:function(){window.location.hash="";this._historyQueue.push({hash:"",id:"main",params:""});if(c.has("hashchange")){this._historyHandler=c.bind(function(){this._check()},this);window.addEventListener("hashchange",this._historyHandler,true)}else this._historyTimer=c.setInterval(this,"_check",this._historyCheckInterval)},stop:function(){if(c.has("hashchange")){window.removeEventListener("hashchange",
this._historyHandler,true);this._historyHandler=null}else clearInterval(this._historyTimer)},push:function(a,d,b){c.isSet(b)||(b=c.getUId());window.location.hash=b;this._historyQueue.splice(this._historyIndex+1,this._historyQueue.length-this._historyIndex-1);this._historyQueue.push({hash:b,id:a,params:d});this._historyIndex=this._historyQueue.length-1},pop:function(a){for(var d=this._historyIndex-1;d>=0;d--)if(this._historyQueue[d]&&this._historyQueue[d].id==a){window.history.back(d-this._historyIndex);
this._historyIndex=d;return}window.history.back(-this._historyIndex);this._historyIndex=0},updateCheckInterval:function(a){if(!c.has("hashchange")){this.stop();this._historyCheckInterval=a;this._historyTimer=c.setInterval(this,"_check",this._historyCheckInterval)}},_check:function(){if(this._historyQueue.length>0)for(var a=window.location.hash.substring(1,window.location.hash.length),d=this._historyQueue.length,b=0;b<d;b++)if(a==this._historyQueue[b].hash&&b!=this._historyIndex){if(b<this._historyIndex)for(a=
this._historyIndex;a>b;a--)c.publish("/history/events/back",{id:this._historyQueue[a-1].id,params:this._historyQueue[a-1].params});else if(b>this._historyIndex)for(a=this._historyIndex;a<b;a++)c.publish("/history/events/forward",{id:this._historyQueue[a+1].id,params:this._historyQueue[a+1].params});this._historyIndex=b;break}}};c.ux.history.start();return c.ux.history});
define(["../../../_amd/core","../../../ux/movementtracker/js/movementtracker"],function(c){c.ux.Inertia=function(a){this.uId=c.getUId();this._properties=a;this._movementtracker=null;if(this._validateProperties()!==false){this._initProperties();this._initListeners()}};c.ux.Inertia.prototype={_DIRECTION_X:"x",_DIRECTION_Y:"y",_INTERRUPTION_THRESHOLD:150,_EVENT_INERTIA_COMPUTED:"/inertia/events/inertiacomputed",destroy:function(){this._removeListeners()},_validateProperties:function(){return true},_initProperties:function(){this._movementtracker=
this._properties.movementtracker;delete this._properties},_initListeners:function(){c.subscribe("/movementtracker/events/mvtstored",{context:this,method:"_computeInertia"})},_removeListeners:function(){c.unsubscribe("/movementtracker/events/mvtstored",{context:this,method:"_computeInertia"})},_computeInertia:function(a){if(a.publisher.uId==this._movementtracker.uId){var d=a.movement,b={pointStatement:d.pointStatement},g=this._getSignificantMovement(d,this._DIRECTION_X);d=this._getSignificantMovement(d,
this._DIRECTION_Y);var j=g.pointStatement[0],e=d.pointStatement[0],f=g.pointStatement[g.pointStatement.length-1],h=d.pointStatement[d.pointStatement.length-1];b.dx=Math.abs(f.x-j.x);b.dy=Math.abs(h.y-e.y);b.dtx=f.globalDuration-j.globalDuration;if(b.dtx==0)b.dtx=1;b.dty=h.globalDuration-e.globalDuration;if(b.dty==0)b.dty=1;b.directionX=g.direction;b.directionY=d.direction;b.speedX=b.dx/b.dtx;b.speedY=b.dy/b.dty;c.publish(this._EVENT_INERTIA_COMPUTED,{publisher:this,movement:b,uxEvent:a.uxEvent,target:a.target})}},
_getSignificantMovement:function(a,d){var b=this._extractDirectedMovement(a,d);b=this._extractInterruptedMovement(b[b.length-1]);return b[b.length-1]},_extractDirectedMovement:function(a,d){var b=[],g=a.pointStatement,j=0,e=g[0].directionX;if(d==this._DIRECTION_Y)e=g[0].directionY;for(var f=0;f<g.length;f++){var h=g[f],p=h.directionX;if(d==this._DIRECTION_Y)p=h.directionY;if(e!=p||f==g.length-1){h=f;if(f==g.length-1)h=g.length;j={pointStatement:g.slice(j,h),direction:e};b.push(j);j=f;e=p}}return b},
_extractInterruptedMovement:function(a){for(var d=[],b=a.pointStatement,g=0,j=0,e=0;e<b.length;e++){j+=b[e].duration;var f=e;if(j>this._INTERRUPTION_THRESHOLD||e==b.length-1){if(e==b.length-1&&j<=this._INTERRUPTION_THRESHOLD)f=b.length;j=0;var h=b.slice(g,f);h={pointStatement:h,direction:a.direction};d.push(h);g=e;if(e==b.length-1&&j>this._INTERRUPTION_THRESHOLD){h=b.slice(f,f+1);h={pointStatement:h,direction:a.direction};d.push(h)}}}return d}};return c.ux.Inertia});
define(["../../../_amd/core"],function(c){c.ux.MovementTracker=function(a){this.uId=c.getUId();this._properties=a;this._previousPoint=this._startPoint=this._pointStatement=this._target=null;this._tracking=false;this._acceptEvents=true;this._multitouch=false;this._params={captureFlow:true,preventStart:true,preventMove:false,shiftThreshold:0,trackThresholdX:0,trackThresholdY:0};if(this._validateProperties()!==false){this._initProperties();this._initListeners()}};c.ux.MovementTracker.prototype={updateTrackThresholdX:function(a){if(this._isValidThreshold(a))this._params.trackThresholdX=
a;else this._raisePropertyError("trackThresholdX")},updateTrackThresholdY:function(a){if(this._isValidThreshold(a))this._params.trackThresholdY=a;else this._raisePropertyError("trackThresholdY")},destroy:function(){this._removeListeners()},_validateProperties:function(){return true},_isValidThreshold:function(a){return c.isInteger(a)&&a>=0},_raisePropertyError:function(a){c.log("[MovementTracker] Error: "+a+" missing or invalid")},_initProperties:function(){this._target=c.byId(this._properties.target);
if(this._properties.captureFlow===false)this._params.captureFlow=false;if(this._properties.preventStart===false)this._params.preventStart=false;if(this._properties.preventMove===true)this._params.preventMove=true;if(c.isSet(this._properties.trackThresholdX))this._params.trackThresholdX=this._properties.trackThresholdX;if(c.isSet(this._properties.trackThresholdY))this._params.trackThresholdY=this._properties.trackThresholdY;delete this._properties},_initListeners:function(){c.ux.touch.addListener(this._target,
"start",{context:this,method:"_handleTouchStart"},{preventDefault:this._params.preventStart,captureFlow:this._params.captureFlow,touchAction:"double-tap-zoom"});c.ux.touch.addListener(this._target,"move",{context:this,method:"_handleTouchMove"},{preventDefault:this._params.preventMove,captureFlow:this._params.captureFlow});c.ux.touch.addListener(this._target,"end",{context:this,method:"_handleTouchEnd"},{captureFlow:this._params.captureFlow})},_removeListeners:function(){c.ux.touch.removeListener(this._target,
"start",{context:this,method:"_handleTouchStart"});c.ux.touch.removeListener(this._target,"move",{context:this,method:"_handleTouchMove"});c.ux.touch.removeListener(this._target,"end",{context:this,method:"_handleTouchEnd"})},_handleTouchStart:function(a){if(c.ua.isAndroid)if(!this.defered){this.defered=true;if((new Date).getTime()-a.timestamp>100){this._acceptEvents=false;a.preventDefault();var d,b={exec:c.bind(function(){clearTimeout(d);this._acceptEvents=true;this._handleTouchStart(a)},this)};
d=c.setTimeout(b,"exec",0);return}}if(this._acceptEvents!=false){this._multitouch=false;if(a.multitouch==true)this._multitouch=true;else{this._acceptEvents=false;this._pointStatement=[];this._previousPoint=null;this._tracking=false;this._startPoint={x:a.x,y:a.y};b=this._onNewTouch(a);c.publish(b.name,b.params);this._acceptEvents=true}}},_handleTouchMove:function(a){if(this._acceptEvents!=false)if(!this._multitouch){this._acceptEvents=false;a=this._onNewTouch(a);c.publish(a.name,a.params);this._acceptEvents=
true}},_handleTouchEnd:function(a){if(this._acceptEvents!=false)if(!this._multitouch){this._acceptEvents=false;a=this._onNewTouch(a);c.publish(a.name,a.params);this._acceptEvents=true}},_onNewTouch:function(a){if(this._tracking==false)if(this._params.trackThresholdX==0||this._params.trackThresholdY==0)this._tracking=true;else{var d={x:a.x,y:a.y},b=Math.abs(d.x-this._startPoint.x);d=Math.abs(d.y-this._startPoint.y);if(b>this._params.trackThresholdX||d>this._params.trackThresholdY)this._tracking=true}b=
{name:"/movementtracker/events/notrack",params:{publisher:this,uxEvent:a,target:this._target}};if(this._tracking==false)return b;if(this._pointStatement.length==0)b.name="/movementtracker/events/mvtbegin";else if(a.type=="move")b.name="/movementtracker/events/mvtchanged";else if(a.type=="end")b.name="/movementtracker/events/mvtstored";this._addTouch(a);b.params.movement=this._getCurrentMovement();return b},_addTouch:function(a){a={x:a.x,y:a.y,timestamp:a.timestamp};var d=0,b=0,g=0,j=0,e=0,f=0;if(this._previousPoint==
null){a.duration=0;a.globalDuration=0;d=a.x;b=a.y}else{d=this._previousPoint.x;b=this._previousPoint.y;g=this._previousPoint.globalDx;j=this._previousPoint.globalDy;e=this._previousPoint.directionX;f=this._previousPoint.directionY;a.duration=a.timestamp-this._previousPoint.timestamp;a.globalDuration=a.duration+this._previousPoint.globalDuration}a.dx=Math.abs(a.x-d);a.dy=Math.abs(a.y-b);a.globalDx=a.dx+g;a.globalDy=a.dy+j;a.directionX=e;a.directionY=f;if(e==0&&this._previousPoint!=null){if(a.x<d)a.directionX=
-1;else if(a.x>d)a.directionX=1;this._previousPoint.directionX=a.directionX}if(f==0&&this._previousPoint!=null){if(a.y<b)a.directionY=-1;else if(a.y>b)a.directionY=1;this._previousPoint.directionY=a.directionY}if(e>0&&a.x+this._params.shiftThreshold<d)a.directionX=-1;else if(e<0&&a.x-this._params.shiftThreshold>d)a.directionX=1;if(f>0&&a.y+this._params.shiftThreshold<b)a.directionY=-1;else if(f<0&&a.y-this._params.shiftThreshold>b)a.directionY=1;this._pointStatement.push(a);this._previousPoint=a},
_getCurrentMovement:function(){var a=this._pointStatement[this._pointStatement.length-1];return{pointStatement:this._pointStatement,duration:a.globalDuration,dx:a.globalDx,dy:a.globalDy}}};return c.ux.MovementTracker});
define(["../../../_amd/core"],function(c){c.ux.window={height:null,width:null,fullHeight:null,fullWidth:null,screenHeight:screen.height,screenWidth:screen.width,orientation:null,_i:null,_V:"vertical",_H:"horizontal",_init:function(){var a=c.bind(this._updateData,this),d=c.bind(this._updateOrientation,this);if(c.has("orientationchange")){window.addEventListener("orientationchange",d,true);d()}window.addEventListener("resize",a,true);a();if(c.ua.isAndroid){scrollTo(0,1,0);this._i=setInterval(a,1E3)}else window.addEventListener("scroll",
a,true)},_updateData:function(){var a=window.innerWidth,d=window.innerHeight,b=false;if(this.width+2<a||this.width-2>a||this.height+2<d||this.height-2>d)b=true;this._updateSize();c.has("orientationchange")||this._updateOrientation();b&&c.publish("/window/events/resize",{height:d,width:a,orientation:this.orientation})},_updateSize:function(){this.height=window.innerHeight;this.width=window.innerWidth;try{this.fullHeight=document.body.scrollHeight;this.fullWidth=document.body.scrollWidth}catch(a){}},
_updateOrientation:function(){var a;a=c.isSet(window.orientation)&&(c.ua.isIOS||c.ua.isTizen)?Math.abs(window.orientation)==90?this._H:this._V:this.width>this.height?this._H:this._V;if(a!=this.orientation){this.orientation=a;c.publish("/window/events/orientationchange",{height:this.height,width:this.width,orientation:a})}}};window.addEventListener("DOMContentLoaded",function(){c.ux.window._init()},false);return c.ux.window});
define(["../../../../_amd/core","../../../../math/_geometric/js/geometric"],function(c){c.ui.xy.CSpinner=function(e){this.uId=c.getUId();this._domNode=null;c.mixin(this,e);if(this._validateProperties()!==false){this._initProperties();this._initDom()}};c.ui.xy.CSpinner.prototype={getDomNode:function(){return this._domNode},toggle:function(){this._timer?this._stopRendering():this._startRendering()},_startRendering:function(){if(!this._timer)this._timer=c.setInterval(this,"_render",this.refreshRate)},
_stopRendering:function(){clearInterval(this._timer);this._timer=null},_render:function(){this._ctx.clearRect(0,0,this.size,this.size);var e=this._ctx,f=this._cx,h=this._cy,p=this._r1,l=this._r2,m=this.count,k=this.space,i=this.linewidth,r=this._grdcolors,o=this.linecolor,n,q,s=(360-k*m)/m,t=0;n=0;for(q=m-this._position-1;n<m;n++){q=(q+1)%m;var u=e,x=f,v=h,y=p,D=l,z=t,B=t+s,C=i,A=r[q],E=o;u.beginPath();var w=b(x,v,y,z);u.moveTo(w.x,w.y);w=void 0;w=B>z?false:true;u.arc(x,v,y,d(z-90),d(B-90),w);w=b(x,
v,D,B);u.lineTo(w.x,w.y);w=void 0;w=z>B?false:true;u.arc(x,v,D,d(B-90),d(z-90),w);w=b(x,v,y,z);u.lineTo(w.x,w.y);u.closePath();u.fillStyle=A;u.fill();if(C>0){u.lineWidth=C;u.strokeStyle=E||"transparent";u.stroke()}t+=s+k}this._position=(this._position+1)%this.count},_validateProperties:function(){return true},_initDom:function(){var e=this._domNode=document.createElement("canvas");c.fx.translate(e,0,0);this._ctx=e.getContext("2d");e.width=this.size;e.height=this.size;this._render();this._startRendering()},
_initProperties:function(){var e=this,f=function(h,p){if(e[h]!==0)e[h]=e[h]||p};f("size",25);f("fromcolor","#ccc");f("tocolor","#000");f("stopcolor",0.4);f("linecolor",null);f("radius",7);f("thickness",5);f("count",Math.floor(e.radius*1.5));f("space",10);f("linewidth",1);f("refreshRate",40);e._cx=e.size/2;e._cy=e.size/2;e._r1=e.radius;e._r2=e._r1+e.thickness;e._timer=null;e._grdcolors=g(e.fromcolor,e.tocolor,e.stopcolor,e.count);e._position=0}};var a=c.math.round,d=c.math.degToRad,b=function(e,f,
h,p){return{x:e+h*Math.cos(d(p-90)),y:f+h*Math.sin(d(p-90))}},g=function(e,f,h,p){e=j(e)||{r:0,g:0,b:0,a:1};f=j(f)||{r:255,g:255,b:255,a:1};var l=[],m,k,i=1,r=1/p,o=0;for(k=m=0;m<p;m++,k+=r){var n={r:e.r*i+(1-i)*f.r,g:e.g*i+(1-i)*f.g,b:e.b*i+(1-i)*f.b,a:e.a*i+(1-i)*f.a};l.push("rgba("+a(n.r,0)+","+a(n.g,0)+","+a(n.b,0)+","+a(n.a,2)+")");if(o==0&&k>=h)o=1/(p-m);i-=o;if(m==p-2)i=0}return l},j=function(e){var f=null,h=null;if(!f)if(f=/^#?([a-fA-F0-9]{1,2})([a-fA-F0-9]{1,2})([a-fA-F0-9]{1,2})$/.exec(e)){for(h=
1;h<4;h++)f[h]=f[h].length==1?f[h]+f[h]:f[h];h={r:parseInt(f[1],16),g:parseInt(f[2],16),b:parseInt(f[3],16),a:1}}if(!f)if(f=/[^0-9]*([0-9\.]+)[^0-9]*([0-9\.]+)[^0-9]*([0-9\.]+)[^0-9]*([0-9\.]+)?/.exec(e))h={r:f[1],g:f[2],b:f[3],a:f[4]||1};return h};return c.ui.xy.CSpinner});
define(["../../../../_amd/core","../../../../ux/inertia/js/inertia"],function(c){c.ui.layout.Scroller=function(a){this.uId=c.getUId();this._direction=this._target=null;this._captureFlow=true;this._view={x:0,y:0,viewportSizeX:0,viewportSizeY:0,sizeX:0,sizeY:0,limitX:0,limitY:0,shiftOriginY:0,shiftLimitY:0,scrollbars:{x:null,y:null,active:true,width:null,backgroundColor:null,borderColor:null,opacityTransition:null},autoRefreshOptions:{active:false,checkDelay:1E3,handler:null},timerSize:null};this._scroll=
{canScrollX:false,canScrollY:false,mustScrollX:false,mustScrollY:false,friction:14,acceleration:-0.00126,minSpeed:0.05};this._transition={duration:0,delay:0,func:"cubic-bezier(0.1, 0.2, 0.5, 1)",endHandler:null};this._callbacks={scrollerTouched:null,scrollerClicked:null,startScrolling:null,scrolling:null,endScrolling:null,startSliding:null,stopSliding:null};this._inertia=this._movementtracker=null;this._activated=true;this._animated=this._moveOutside=false;this._selectionEvent=null;this._updateContext(a)};
c.ui.layout.Scroller.prototype={_DIRECTION_X:"x",_DIRECTION_Y:"y",_DIRECTION_XY:"xy",updateTargetSize:function(a,d,b){if(this._view.timerSize==null)if(b===true&&this._view.timerSize==null){this._refreshTargetSize(a,d,false);this._view.timerSize=c.setTimeout(this,"_refreshTargetSize",this._view.autoRefreshOptions.checkDelay,a,d,b)}else this._refreshTargetSize(a,d,b)},updateViewportSize:function(a,d){var b=this._target.parentNode.clientWidth,g=this._target.parentNode.clientHeight;if(c.isSet(a))b=a;
if(c.isSet(d))g=d;if(this._view.viewportSizeX!=b||this._view.viewportSizeY!=g){this._setViewportSize(b,g);this._refreshView()}},updateShiftBounds:function(a,d){var b=false;if(a!=this._view.shiftOriginY){this._view.shiftOriginY=a;if(this._view.y==0)this._view.y=a;b=true}if(d!=this._view.shiftLimitY){this._view.shiftLimitY=d;b=true}if(b){this._refreshView();this._backToBounds()}},autoRefresh:function(a){if(c.isSet(a.checkDelay)&&a.checkDelay>=0)this._view.autoRefreshOptions.checkDelay=a.checkDelay;
if(c.isSet(a.active)&&this._view.autoRefreshOptions.active!==a.active){this._view.autoRefreshOptions.active=a.active;this._listenToContentChanges(a.active)}},scrollTo:function(a,d,b){this._slideTo(a,d,{duration:b})},backToBounds:function(){this._backToBounds()},getPosition:function(){return{x:this._view.x,y:this._view.y}},getViewProperties:function(){return this._view},enable:function(){this._activated=true},disable:function(){this._activated=false},destroy:function(){this._removeListeners();this._movementtracker.destroy();
delete this._movementtracker;this._inertia.destroy();delete this._inertia;this._removeScrollbars(true,true);for(var a in this._callbacks)this._callbacks[a]=null;if(this._view.timerSize!=null){clearTimeout(this._view.timerSize);this._view.timerSize=null}c.fx.apply(this._target,{"user-select":""});c.fx.applyTransition(this._target,"","","","");c.fx.setTransform(this._target,"");this._target=null},changeContext:function(a){this.destroy();this._updateContext(a)},_setTargetSize:function(a,d){this._view.sizeX=
a;this._view.sizeY=d},_setViewportSize:function(a,d){this._view.viewportSizeX=a;this._view.viewportSizeY=d},_updateContext:function(a){this._properties=a;if(this._validateProperties()!==false){this._initProperties();this._initListeners();this._slideTo(0,0);this._refreshView()}},_validateProperties:function(){return true},_raisePropertyError:function(a){c.log("[Scroller] Error: "+a+" missing or invalid")},_initProperties:function(){this._target=c.byId(this._properties.target);c.fx.apply(this._target,
{"user-select":"none"});if(c.isSet(this._properties.shiftOriginY))this._view.shiftOriginY=this._properties.shiftOriginY;if(c.isSet(this._properties.shiftLimitY))this._view.shiftLimitY=this._properties.shiftLimitY;this._setTargetSize(this._target.offsetWidth,this._target.offsetHeight);this._setViewportSize(this._target.parentNode.clientWidth,this._target.parentNode.clientHeight);this._direction=this._properties.direction;if(this._direction==this._DIRECTION_X||this._direction==this._DIRECTION_XY)this._scroll.mustScrollX=
true;if(this._direction==this._DIRECTION_Y||this._direction==this._DIRECTION_XY)this._scroll.mustScrollY=true;if(this._properties.captureFlow===false)this._captureFlow=false;if(c.isSet(this._properties.callbacks))for(var a in this._callbacks){var d=this._properties.callbacks[a];if(c.isSet(d))this._callbacks[a]=d}if(c.isSet(this._properties.scrollbars))for(a in this._view.scrollbars){d=this._properties.scrollbars[a];if(c.isSet(d))this._view.scrollbars[a]=d}a=this._properties.friction;if(c.isSet(a)&&
c.isInteger(a)){this._scroll.friction=Math.max(Math.min(a,100),1);this._scroll.acceleration=Math.min(-9.0E-5*this._scroll.friction,-1.0E-4);this._scroll.minSpeed=Math.sqrt(Math.abs(this._scroll.acceleration*2))}delete this._properties},_initListeners:function(){this._movementtracker=new c.ux.MovementTracker({target:this._target,captureFlow:this._captureFlow,preventStart:false,preventMove:false,trackThresholdX:5,trackThresholdY:5});c.subscribe("/movementtracker/events/notrack",{context:this,method:"_handleTouchNotTracked"});
c.subscribe("/movementtracker/events/mvtbegin",{context:this,method:"_handleMovementBegin"});c.subscribe("/movementtracker/events/mvtchanged",{context:this,method:"_handleMovementChanged"});this._inertia=new c.ux.Inertia({movementtracker:this._movementtracker});c.subscribe("/inertia/events/inertiacomputed",{context:this,method:"_handleMovementStored"});this._transition.endHandler=c.fx.onTransitionEnd(this._target,c.bind(this._handleTransitionEnd,this),true)},_removeListeners:function(){c.unsubscribe("/movementtracker/events/notrack",
{context:this,method:"_handleTouchNotTracked"});c.unsubscribe("/movementtracker/events/mvtbegin",{context:this,method:"_handleMovementBegin"});c.unsubscribe("/movementtracker/events/mvtchanged",{context:this,method:"_handleMovementChanged"});c.unsubscribe("/inertia/events/inertiacomputed",{context:this,method:"_handleMovementStored"});this._target.removeEventListener(c.has.prop("transitionend"),this._transition.endHandler,false);this._transition.endHandler=null;this._listenToContentChanges(false)},
_listenToContentChanges:function(a){if(a){var d=this._view.autoRefreshOptions.checkDelay>0;this._view.autoRefreshOptions.handler=c.bind(function(){var b=this._target.offsetHeight;if(this._view.sizeX!=this._target.offsetWidth||this._view.sizeY!=b)this.updateTargetSize(null,null,d)},this);this._target.addEventListener("DOMSubtreeModified",this._view.autoRefreshOptions.handler,false)}else if(this._view.autoRefreshOptions.handler!=null){this._target.removeEventListener("DOMSubtreeModified",this._view.autoRefreshOptions.handler,
false);this._view.autoRefreshOptions.handler=null}},_refreshTargetSize:function(a,d,b){this._view.timerSize!=null&&clearTimeout(this._view.timerSize);var g=this._target.offsetWidth,j=this._target.offsetHeight;if(c.isSet(a))g=a;if(c.isSet(d))j=d;this._view.timerSize=null;if(this._view.sizeX!=g||this._view.sizeY!=j){this._setTargetSize(g,j);this._refreshView();if(b===true)this._view.timerSize=c.setTimeout(this,"_refreshTargetSize",this._view.autoRefreshOptions.checkDelay,a,d,b)}},_refreshView:function(){var a=
this._scroll.canScrollX,d=this._scroll.canScrollY;if(this._view.sizeX>this._view.viewportSizeX){this._view.limitX=this._view.viewportSizeX-this._view.sizeX;this._scroll.canScrollX=true}else{this._view.limitX=0;this._scroll.canScrollX=false}var b=this._view.sizeY-(this._view.shiftOriginY+this._view.shiftLimitY);if(b>this._view.viewportSizeY){this._view.limitY=this._view.viewportSizeY-b;this._scroll.canScrollY=true}else{this._view.limitY=0;this._scroll.canScrollY=false}this._scroll.canScrollX?this._movementtracker.updateTrackThresholdX(5):
this._movementtracker.updateTrackThresholdX(999);this._scroll.canScrollY?this._movementtracker.updateTrackThresholdY(5):this._movementtracker.updateTrackThresholdY(999);if(a!=this._scroll.canScrollX)if(this._view.x!=0){this._view.x=0;this._slideTo(null,null,{backToBound:true,duration:1})}if(d!=this._scroll.canScrollY)if(this._view.y!=0){this._view.y=0;this._slideTo(null,null,{backToBound:true,duration:1})}if(this._view.scrollbars.active==true){if(this._scroll.canScrollX&&this._scroll.mustScrollX){a=
this._view.scrollbars.x;if(a==null)a=this._view.scrollbars.x=new c.ui.layout.Scroller.Scrollbar({direction:"x",width:this._view.scrollbars.width,backgroundColor:this._view.scrollbars.backgroundColor,borderColor:this._view.scrollbars.borderColor,opacityTransition:this._view.scrollbars.opacityTransition});a.updateSize(this._view.viewportSizeX,this._view.sizeX);this._target.parentNode.appendChild(a.getDomNode())}else this._removeScrollbars(true,false);if(this._scroll.canScrollY&&this._scroll.mustScrollY){a=
this._view.scrollbars.y;if(a==null)a=this._view.scrollbars.y=new c.ui.layout.Scroller.Scrollbar({direction:"y",width:this._view.scrollbars.width,backgroundColor:this._view.scrollbars.backgroundColor,borderColor:this._view.scrollbars.borderColor,opacityTransition:this._view.scrollbars.opacityTransition});a.updateSize(this._view.viewportSizeY,b);this._target.parentNode.appendChild(a.getDomNode())}else this._removeScrollbars(false,true);b={timeout:null,hide:function(g){clearTimeout(this.timeout);g._hideScrollbars()}};
b.timeout=c.setTimeout(b,"hide",1E3,this)}},_removeScrollbars:function(a,d){if(a==true&&this._view.scrollbars.x!=null){this._target.parentNode.removeChild(this._view.scrollbars.x.getDomNode());this._view.scrollbars.x=null}if(d==true&&this._view.scrollbars.y!=null){this._target.parentNode.removeChild(this._view.scrollbars.y.getDomNode());this._view.scrollbars.y=null}},_handleTouchNotTracked:function(a){if(a.publisher.uId==this._movementtracker.uId){a=a.uxEvent;a.type=="start"&&c.isSet(this._callbacks.scrollerTouched)&&
c.call(this._callbacks.scrollerTouched,{uxEvent:a});if(this._activated!=false){a.preventDefault();a.stopPropagation();if(a.type=="start"){this._selectionEvent=null;if(this._animated==false)this._selectionEvent=a;a=this._getInstantPosition();if(!this._isAtPosition(a.x,a.y)){c.isSet(this._callbacks.stopSliding)&&c.call(this._callbacks.stopSliding,{});this._slideTo(a.x,a.y)}}else if(a.type=="end"){this._backToBounds();this._hideScrollbars();if(c.isSet(this._selectionEvent)){var d=0;if(!this._scroll.canScrollX&&
!this._scroll.canScrollY){var b=this._selectionEvent;d=a.x-b.x;b=a.y-b.y;d=Math.sqrt(d*d+b*b)}if(d<5){c.isSet(this._callbacks.scrollerClicked)&&c.call(this._callbacks.scrollerClicked,{uxEvent:a});this._handleSelection(a)}}}}}},_handleMovementBegin:function(a){if(a.publisher.uId==this._movementtracker.uId)if(this._activated!=false){a=a.uxEvent;a.preventDefault();a.stopPropagation();c.isSet(this._callbacks.startScrolling)&&c.call(this._callbacks.startScrolling,{uxEvent:a});c.isSet(this._view.autoRefreshOptions.handler)&&
this._view.autoRefreshOptions.handler()}},_handleSelection:function(a){var d=this._getProperEventTarget(a),b=d.tagName,g=d.type,j,e;if(c.isSet(b)){j=b.toLowerCase();e=(b=j=="input"&&g?g.toLowerCase()=="text":false)||j=="textarea"}if(e||j=="select")d.focus();if(c.has("touch"))c.ua.isIE||a.dispatch(d,"click")},_getProperEventTarget:function(a){var d=a.target;if(a.target.nodeType==3)d=d.parentNode;return d},_handleMovementChanged:function(a){if(a.publisher.uId==this._movementtracker.uId)if(this._activated!=
false){a.uxEvent.stopPropagation();var d=a.movement,b=d.pointStatement[d.pointStatement.length-2];d=d.pointStatement[d.pointStatement.length-1];var g=d.x-b.x;b=d.y-b.y;var j=this._view.y;if(j>0)j-=this._view.shiftOriginY;else if(j<this._view.limitY)j+=this._view.shiftLimitY;this._moveOutside=false;j=this._getBoundsInfos(this._view.x,j);if(j.outsideOfBoundsX)if(j.directionX>0&&d.directionX>0||j.directionX<0&&d.directionX<0){g/=3;this._moveOutside=true}if(j.outsideOfBoundsY)if(j.directionY>0&&d.directionY>
0||j.directionY<0&&d.directionY<0){b/=3;this._moveOutside=true}d=this._view.x+c.math.round(g,0);g=this._view.y+c.math.round(b,0);this._slideTo(d,g);c.isSet(this._callbacks.scrolling)&&c.call(this._callbacks.scrolling,{uxEvent:a.uxEvent})}},_handleMovementStored:function(a){if(a.publisher.uId==this._inertia.uId)if(this._activated!=false){c.isSet(this._callbacks.endScrolling)&&c.call(this._callbacks.endScrolling,{uxEvent:a.uxEvent});a=a.movement;this._interpretInertia(a);if(!this._moveOutside&&!this._isAtPosition(a.destX,
a.destY))this._slideTo(a.destX,a.destY,{duration:a.duration,speed:a.speed});else{this._backToBounds();this._hideScrollbars()}}},_interpretInertia:function(a){var d=this._scroll.canScrollX&&this._scroll.mustScrollX,b=this._scroll.canScrollY&&this._scroll.mustScrollY,g=c.math.round(this._view.viewportSizeX/3,1),j=c.math.round(this._view.viewportSizeY/3,1),e=this._scroll.acceleration,f=this._scroll.minSpeed,h=a.speedX,p=a.speedY;h=h<f?0:h;p=p<f?0:p;f=-(h*h)/(2*e);var l=-(p*p)/(2*e),m=-h/e;e=-p/e;d||
(f=m=0);b||(l=e=0);var k=this._getBoundsInfos(this._view.x+f*a.directionX,this._view.y+l*a.directionY);if(k.outsideOfBoundsX&&k.distanceToBoundX>g){g=k.distanceToBoundX-g;var i=g/f;f-=g;m-=i*m}if(k.outsideOfBoundsY&&k.distanceToBoundY>j){g=k.distanceToBoundY-j;i=g/l;l-=g;e-=i*e}a.destX=this._view.x+c.math.round(f*a.directionX,0);a.destY=this._view.y+c.math.round(l*a.directionY,0);m=Math.max(c.math.round(m,0),1);e=Math.max(c.math.round(e,0),1);a.duration=e;a.speed=c.math.round(p,3);if(d&&!b||d&&b&&
m>e){a.duration=m;a.speed=c.math.round(h,3)}},_handleTransitionEnd:function(){if(this._animated==true){this._animated=false;c.isSet(this._callbacks.stopSliding)&&c.call(this._callbacks.stopSliding,{});var a=0;if(this._backToBounds())a=350;this._hideScrollbars(a)}},_backToBounds:function(){var a=this._getBoundsInfos(this._view.x,this._view.y);if(a.outsideOfBounds){var d=this._view.x,b=this._view.y;if(a.outsideOfBoundsX)d=a.positionOfBoundX;if(a.outsideOfBoundsY)b=a.positionOfBoundY;this._slideTo(d,
b,{backToBound:true});return true}return false},_getBoundsInfos:function(a,d){var b={outsideOfBoundsX:false,outsideOfBoundsY:false,distanceToBoundX:0,distanceToBoundY:0};if(a>0||a<this._view.limitX){b.outsideOfBoundsX=true;if(a>0){b.distanceToBoundX=Math.abs(a);b.directionX=1;b.positionOfBoundX=0}else{b.distanceToBoundX=Math.abs(a-this._view.limitX);b.directionX=-1;b.positionOfBoundX=this._view.limitX}}if(d>0||d<this._view.limitY){b.outsideOfBoundsY=true;if(d>0){b.distanceToBoundY=Math.abs(d);b.directionY=
1;b.positionOfBoundY=0}else{b.distanceToBoundY=Math.abs(d-this._view.limitY);b.directionY=-1;b.positionOfBoundY=this._view.limitY}}b.outsideOfBounds=b.outsideOfBoundsX||b.outsideOfBoundsY;return b},_isAtPosition:function(a,d){if(this._view.x==a&&this._view.y==d)return true;return false},_slideTo:function(a,d,b){var g=b&&b.duration?b.duration:0,j=b&&b.speed?b.speed:0;b=b&&b.backToBound?b.backToBound:false;this._transition.duration=g;if(g>=1){this._animated=true;c.isSet(this._callbacks.startSliding)&&
c.call(this._callbacks.startSliding,{duration:g,speed:j})}else this._animated=false;g=g+"ms";j=this._transition.delay+"ms";var e=this._transition.func;if(b){g="350ms";e="cubic-bezier(0.3, 0.1, 1.0, 0.5)"}c.fx.applyTransformTransition(this._target,g,j,e);if(this._view.scrollbars.active==true){this._view.scrollbars.x!=null&&this._view.scrollbars.x.applyTransition(g,j,e);this._view.scrollbars.y!=null&&this._view.scrollbars.y.applyTransition(g,j,e)}this._translateTo(a,d)},_getInstantPosition:function(){var a=
c.fx.getTransformPosition(this._target);a.y+=this._view.shiftOriginY;return a},_translateTo:function(a,d){var b=this._view.x,g=this._view.y;if(c.isSet(a)&&this._scroll.canScrollX&&this._scroll.mustScrollX)b=a;if(c.isSet(d)&&this._scroll.canScrollY&&this._scroll.mustScrollY)g=d;this._view.x=parseInt(b);this._view.y=parseInt(g);c.fx.translate(this._target,this._view.x,this._view.y-this._view.shiftOriginY);if(this._view.scrollbars.active==true){this._view.scrollbars.x!=null&&this._view.scrollbars.x.updatePosition(this._view.x,
this._view.y);this._view.scrollbars.y!=null&&this._view.scrollbars.y.updatePosition(this._view.x,this._view.y)}},_hideScrollbars:function(a){if(this._view.scrollbars.active==true){this._view.scrollbars.x!=null&&this._view.scrollbars.x.hide(a);this._view.scrollbars.y!=null&&this._view.scrollbars.y.hide(a)}}};c.ui.layout.Scroller.Scrollbar=function(a){this.uId=c.getUId();this._properties=a;this._direction=null;this._backgroundColor="rgba(0, 0, 0, 0.55)";this._borderColor="rgba(0, 0, 0, 0.2)";this._opacityTransition=
true;this._view={x:0,y:0,viewportSize:0,contentSize:0,size:0,width:0,ratioSize:0,ratioPosition:0,ratioBounce:0,borderSize:1,availableSpace:0,showed:true};this._transition={duration:"",delay:"",func:""};this._ctx=this._canvasNode=this._domNode=null;this._firstHide=true;if(this._validateProperties()!==false){this._initProperties();this._initDom()}};c.ui.layout.Scroller.Scrollbar.prototype={_DEFAULT_WIDTH:5,getDomNode:function(){return this._domNode},updateSize:function(a,d){var b=0,g=0;this._view.viewportSize=
a-this._view.borderSize*2;this._view.contentSize=d;if(a<d){this._view.ratioSize=this._view.viewportSize/this._view.contentSize;this._view.ratioSize*=0.11*(this._view.contentSize/this._view.viewportSize)+0.89}else this._view.ratioSize=1;b=g=this._view.ratioSize*this._view.viewportSize;if(this._direction=="y")b=this._view.width;else g=this._view.width;this._resize(b,g);this._view.availableSpace=this._view.viewportSize-this._view.size;this._view.ratioPosition=this._view.availableSpace/(this._view.contentSize-
this._view.viewportSize);this._view.ratioBounce=0.0010*this._view.contentSize+3},updatePosition:function(a,d){this._view.showed==false&&this.show();var b=0,g=0,j=this._view.availableSpace;if(this._direction=="y"){g=-d*this._view.ratioPosition;if(g<0||g>j)g=g<0?Math.max(g+g*this._view.ratioBounce,-this._view.size+5):Math.min(g+(g-j)*this._view.ratioBounce,this._view.viewportSize-5)}else{b=-a*this._view.ratioPosition;if(b<0||b>j)b=b<0?Math.max(b+b*this._view.ratioBounce,-this._view.size+5):Math.min(b+
(b-j)*this._view.ratioBounce,this._view.viewportSize-5)}this._translateTo(b,g)},show:function(){if(this._view.showed!=true){this._view.showed=true;c.fx.applyTransition(this._canvasNode,"opacity","0ms","0ms","default");this._canvasNode.style.opacity=1}},hide:function(a){if(this._view.showed!=false){this._view.showed=false;if(this._opacityTransition==true){var d=300;if(c.isSet(a))d+=a;if(this._firstHide){this._firstHide=false;d+=600}d+="ms";c.fx.applyTransition(this._canvasNode,"opacity","200ms",d,
"default")}this._canvasNode.style.opacity=0}},applyTransition:function(a,d,b){var g=false;if(g=(g=(g=g||a!=this._transition.duration)||d!=this._transition.delay)||b!=this._transition.func){this._transition.duration=a;this._transition.delay=d;this._transition.func=b;c.fx.applyTransformTransition(this._domNode,a,d,b)}},_validateProperties:function(){return true},_raisePropertyError:function(a){c.log("[Scrollbar] Error: "+a+" missing or invalid")},_initProperties:function(){this._direction=this._properties.direction;
this._view.width=this._DEFAULT_WIDTH;if(c.isSet(this._properties.width))this._view.width=this._properties.width;if(c.isSet(this._properties.borderColor))this._borderColor=this._properties.borderColor;if(c.isSet(this._properties.backgroundColor))this._backgroundColor=this._properties.backgroundColor;if(c.isSet(this._properties.opacityTransition))this._opacityTransition=this._properties.opacityTransition},_initDom:function(){var a=this._domNode=document.createElement("div"),d=this._canvasNode=document.createElement("canvas");
this._ctx=d.getContext("2d");a.appendChild(d);var b={position:"absolute","pointer-events":"none",opacity:1};if(this._direction=="y"){b.top="0px";b.right="1px"}else{b.bottom="2px";b.left="0px"}c.fx.apply(a,b);c.fx.apply(d,{position:"absolute"});c.fx.translate(d,0,0)},_drawbar:function(){var a=this._direction=="y",d=this._ctx,b=a?this._view.width/2:this._view.width/2+1,g=a?this._view.width/2+1:this._view.width/2,j=a?this._view.width:this._view.size-1,e=a?this._view.size-1:this._view.width,f=a?j/2:e/
2;d.fillStyle=this._backgroundColor;d.strokeStyle=this._borderColor;d.lineWidth=this._view.borderSize;d.beginPath();if(a){d.arc(b,g,f,Math.PI,0,false);d.lineTo(b+f,e-f);d.arc(b,e-f,f,0,Math.PI,false);d.lineTo(b-f,g)}else{d.arc(b,g,f,Math.PI/2,3*Math.PI/2,false);d.lineTo(j-f,g-f);d.arc(j-f,g,f,3*Math.PI/2,Math.PI/2,false);d.lineTo(b,g+f)}d.closePath();d.fill();d.stroke()},_resize:function(a,d){this._view.size=this._direction=="y"?d:a;var b=this._canvasNode;this._ctx.clearRect(0,0,b.width,b.height);
c.fx.apply(this._domNode,{width:a+1+"px",height:d+"px"});b.width=a;b.height=d;this._drawbar()},_translateTo:function(a,d){this._view.x=a;this._view.y=d;c.fx.translate(this._domNode,a,d)}};return c.ui.layout.Scroller});
